1. The request path string.
2. The value would be an array of IDs for the rows in the first table. You would need to be able to serialize and deserialize the array. You could write a class to do this.
3.
Map: TableMapper like correlateslogs. Each entry maps to a key value pair where key = the path, value = array with just the row key
Reduce: Combine all the entries with the same key, merging their arrays so you have one array with all the row keys for that path
Additional Map: like in CorrelationLogs add an aditional mapper that takes the path and row keys and puts an entry in the new table
4.
HBase: get 'kdd2-log-path-index','/ksc.html'
Deserialize the resulting array. For each entry in the array:
get 'kdd2-log',entry_row_key
5. I think MD5 is fairly well distributed so a mod function should be good.